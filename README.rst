Taichi Blend
============

Taichi Blender intergration for creating physic-based animations.


Examples: https://github.com/taichi-dev/taichi_blend/tree/master/numblend_examples.

Taichi repo: https://github.com/taichi-dev/taichi.

Taichi documentation: https://taichi.readthedocs.io/en/stable.

Taichi 中文文档: https://taichi.readthedocs.io/zh_CN/latest.

Taichi forum: https://forum.taichi.graphics.


Video tutorial series (Bilibili)
--------------------------------

- `EP0 - installation <https://www.bilibili.com/video/bv1ty4y1B75T>`_
- `EP1 - wave of cubes <https://www.bilibili.com/video/BV15A411j7EB>`_
- `EP2 - water wave simulation <https://www.bilibili.com/video/BV1h54y1C7uM>`_
- `EP3 - simple SDF ray tracer <https://www.bilibili.com/video/BV1WZ4y1V77h>`_
- `EP4 - physics node system <https://www.bilibili.com/video/BV1Ep4y1r78S>`_
- `EP5 - real-time soft renderer <https://www.bilibili.com/video/BV17i4y157xx>`_
- `EP6 - MPM solver nodes <https://www.bilibili.com/video/BV1Zi4y1F7nx>`_

Subscribe `my channel <https://space.bilibili.com/263032155>` for future updates.
Also join our QQ group ``1124405621`` for discussing this addon.


How to install
--------------

1. Goto the Blender ``Scripting`` window, type these commands into the Python shell:

   .. code-block:: python

      import sys
      import platform
      major = sys.version_info.major
      minor = sys.version_info.minor
      assert major == 3 and minor in [6, 7, 8], "Only Python 3.6/3.7/3.8 is supported"

      ver = str(major) + str(minor)
      plat = sys.platform

      if plat.startswith('win'):
         plat = 'win'
      elif plat.startswith('linux'):
         plat = 'linux'
      elif plat.startswith('darwin') or plat.startswith('mac'):
         plat = 'osx'
      else:
         assert 0, "Invalid platform: {}".format(sys.platform)

      if platform.architecture()[0] == '32bit':
         assert 0, "Only 64-bit Blender is supported"

      file = 'Taichi-Blend-{}-{}.zip'.format(plat, ver)
      print('You should download', file)


   It may shows, for example:

   .. code-block:: none

      You should download Taichi-Blend-win-37.zip


2. Go to the `release page <https://github.com/taichi-dev/taichi_blend/releases>`_,
   choose one of the ZIP files to download, according to the ``You should download`` generated by the code above.
   Download ``Taichi-Blend-win.zip`` for Windows users for example.

   NOTE: For the convenience of Chinese users, you may download from the `mirror release page <https://gitee.com/archibate/taichi_blend/releases>`_ for better network speed :)

3. Go back to the Blender, and follow these steps:

   Edit -> Preferences -> Add-ons -> Install

4. In the pop-up installation window, select the file ``Taichi-Blend.zip`` we just download.

5. Then you should see an item named ``Physics: Taichi Blend``, click the check on the left side to enable it.

6. Try ``import taichi as ti`` in the shell to confirm that installation is complete.

If you encounter any problems, please report by `opening an issue <https://github.com/taichi-dev/taichi_blend/issues>`_, many thanks!


How to play
-----------

1. Create a new ``General`` scene in Blender, delete the default ``Cube``.

2. Go to the ``Scripting`` window, press ``New`` to create a new script (text).

3. Paste some `example scripts <https://github.com/taichi-dev/taichi_blend/tree/master/examples>`_ to the editor.

4. Press the play button to run the script. Blender may stuck a while for the first launch.

5. Go back to ``Layout`` window. Press SPACE and you should see particles to move. May stuck a while at first frame.

Included packages
-----------------

Installing this bundle (``Taichi-Blend.zip``) will allows you to use these packages:

* ``numblend`` - utilities to interface Blender with NumPy and create animations `[source] <https://github.com/taichi-dev/taichi_blend/tree/master/src/bundle-packages/numblend`_
* ``melt`` - a node system for building physics engine based on Taichi `[source] <https://github.com/taichi-dev/taichi_blend/tree/master/src/bundle-packages/melt`_
* ``tina`` - a real-time rasterization soft renderer based on Taichi `[source] <https://github.com/taichi-dev/taichi_blend/tree/master/src/bundle-packages/tina`_
* ``taichi`` - the Taichi programming langurage `[repo] <https://github.com/taichi-dev/taichi>`_ `[doc] <https://taichi.readthedocs.io/en/stable>`_
* ``taichi_glsl`` - some handy helper functions for Taichi `[repo] <https://github.com/taichi-dev/taichi_glsl>`_ `[doc] <https://taichi-glsl.readthedocs.io>`_
* ``taichi_elements`` - a high-performance MPM solver written in Taichi `[repo] <https://github.com/taichi-dev/taichi_elements>`_ `[doc] <https://taichi-elements.readthedocs.io>`_
* ``taichi_three`` - a extensible soft rendering pipeline based on Taichi `[repo] <https://github.com/taichi-dev/taichi_three>`_ `[doc] <https://t3.142857.red>`_
